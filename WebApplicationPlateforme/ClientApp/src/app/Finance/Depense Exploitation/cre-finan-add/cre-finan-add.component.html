<app-nav-menu></app-nav-menu>
<!-- Page Content -->
<div class="content">
  <div class="row">
    <div class="col-md-3 col-sm-4">
      <app-side-menu></app-side-menu>
    </div>
    			<div class="col-md-9 col-sm-8">
					<header>
						<h3 class="task-head">طلب تسديد مستحقات مالية</h3>
					</header>
					<form class="task-form form-row" #form="ngForm" autocomplete="off" (submit)="onSubmit(form)">
						<div class="col-md-6">
							<label for="pay-date">تاريخ التنفيذ </label>
							<input type="date" id="pay-date" name="date" #date="ngModel" [(ngModel)]="cr.date"   [min]="today" />
							<div *ngIf="date.errors?.required && form.submitted && !isValidFormSubmitted" class="alert alert-danger">
								مطلوب تاريخ لتنفيذ .

							</div>
						</div>
						<div class="col-md-6">
							<label for="amount1">المبلغ</label>
							<input type="number" min="0" id="amount1" name="prix" #prix="ngModel" [(ngModel)]="cr.prix" />
							<div *ngIf="prix.errors?.required && form.submitted && !isValidFormSubmitted" class="alert alert-danger">
								مطلوب المبلغ .

							</div>
						</div>
						<div class="col-md-6">
							<label for="pay-method">نوع الدفع</label>
				
							<select id="pay-method2" (change)="setradio($event)">
								<option value="كاش" selected>كاش</option>
								<option value="تحويل بنكي">تحويل بنكي</option>
								<option value="شيك">شيك</option>
							</select>

							<div class="pay-method1" *ngIf="isSelected('تحويل بنكي')">
								<label for="">رقم حساب المرسل</label>
								<input type="number" min="0" id="" name="numcompteExp" #numcompteExp="ngModel" [(ngModel)]="cr.numcompteExp" />

								<label for="">رقم حساب المستفيد</label>
								<input type="number" min="0" id="" name="numcompteRecp" #numcompteRecp="ngModel" [(ngModel)]="cr.numcompteRecp" />
							</div>
							<div class="pay-method2" *ngIf="isSelected('شيك')">
								<label for="">رقم الشيك</label>
								<input type="number" min="0" id="" name="numcheque" #numcheque="ngModel" [(ngModel)]="cr.numcheque" />
							</div>
						</div>
						<div class="col-md-6">
							<label>المشروع/البرنامج</label>
							<input type="radio" id="programs" name="programs" checked />
							<p class="radio-lab" for="programs">مشروع/برنامج</p>&nbsp;&nbsp;
							<input type="radio" id="other-input" name="programs" />
							<p class="radio-lab" for="other-input">أخرى</p>

							<select id="building" (change)="setradio1($event)">
								<option value="prog" selected>مشروع/برنامج</option>
								<option value="autre">أخرى</option>
							</select>
							<div class="programs" *ngIf="isSelected1('prog')">
								<label>المشروع/البرنامج</label>
								<select id="prog" name="projet" #projet="ngModel" [(ngModel)]="cr.projet">
									<option [ngValue]="undefined" selected disabled>-المشروع-</option>
									<option *ngFor="let item of TypeProjet" value="{{item.nom}}">{{item.nom}}</option>
								</select>
							</div>
							<div class="other-input" *ngIf="isSelected1('autre')">
								<label for="other">أخرى</label>
								<input type="text" id="other" name="projet" #projet="ngModel" [(ngModel)]="cr.projet" />
							</div>
						</div>
						<div class="col-md-6">
							<label for="payee-name">اسم المستفيد</label>
							<input type="text" id="payee-name" name="nomBeneficiaire" #nomBeneficiaire="ngModel" [(ngModel)]="cr.nomBeneficiaire" />
						</div>
						<div class="col-md-6">
							<label for="pay-details">التفاصيل</label>
							<textarea id="pay-details" class="form-control" name="detail" #detail="ngModel" [(ngModel)]="cr.detail"></textarea>
						</div>
						<div class="col-sm-12">
							<label for="">إضافة سند</label>
							<ngx-dropzone (change)="upload($event);onSelect($event)" class="dropzone" #inputFile>
								<ngx-dropzone-label>اسحب الملفات هنا او اضغط للتحميل</ngx-dropzone-label>
								<ngx-dropzone-preview *ngFor="let f of files1" [removable]="true" (removed)="onRemove(f)">
									<ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
								</ngx-dropzone-preview>
							</ngx-dropzone>
						</div>
						<div class="col-md-12 text-left">
							<input type="submit"
										 style="width: 130px;"
										 class="btn btn-info next"
										 value="إضافة" />
						</div>
					</form>
				</div>
  </div>

</div>
<!-- Footer -->
<footer class="text-center">
 <p>كل الحقوق محفوظة لمؤسسة مواهب الخليج  <a class="navbar-brand" href="#"> <img src="assets/images/awal.png" style="width:40px;height:40px;"></a> </p>
</footer>
