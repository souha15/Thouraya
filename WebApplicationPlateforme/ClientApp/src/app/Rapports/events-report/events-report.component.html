<app-nav-menu></app-nav-menu>
<!-- Page Content -->
<div class="content">
  <div class="row">
    <div class="col-md-3 col-sm-4">
      <app-side-menu></app-side-menu>
    </div>

    <div class="col-md-9 col-sm-8">
      <nav class="d-flex p-0 bd-highlight tasks-nav mt-2 finance-nav">

        <a [routerLink]="['/event-register']" class="p-2 flex-fill bd-highlight stop-btn">
          <span><i class="fa fa-plus"></i></span>
          تسجيل فعاليات
        </a>

        <a [routerLink]="['/event-list']" class="p-2 flex-fill bd-highlight">
          <span><i class="fa fa-list"></i></span>
          قائمة الفعاليات
        </a>
        <a [routerLink]="['/events-report']" class="p-2 flex-fill bd-highlight">
          <span><i class="fa fa-file-excel"></i></span>
          تقارير الفعاليات
        </a>
      </nav>
      <header>
        <h3 class="task-head"> تقارير الفعالية </h3>
      </header>

      <div class="events1">
        <div class="form-row events-form mb-3">


          <div class="row w-100 d-flex form-box">
            <div class="col-md-12 col-sm-12">


              <div class="ml-3">
                <label class="target">
                  قيم المتغيرات
                </label>

                &nbsp; &nbsp; <input type="radio" name="date" value="day" (click)="setradio('classe')" [checked]='true' ngModel>&nbsp; &nbsp; القسم
                &nbsp; &nbsp; <input type="radio" name="date" value="month" (click)="setradio('event')" ngModel>&nbsp; &nbsp;الفعالية
                &nbsp; &nbsp; <input type="radio" name="date" value="year" (click)="setradio('date')" ngModel>&nbsp; &nbsp;التاريخ

              </div>

              <div class="d-flex w-100 justify-content-start flex-wrap" *ngIf="isSelected('classe')">
                <div class="ml-3">
                  <label for="month"><span><i class="fa fa-calendar-alt fa-lg"></i></span> &nbsp; &nbsp;القسم</label>

                  <select id="month" (change)="getClasse($event)">
                    <option [ngValue]="undefined" selected disabled>-اختر-</option>
                    <option *ngFor="let item of classList" value="{{item.nom}}">{{item.nom}}</option>
                  </select>

                </div>

                <div class="ml-3">
                  <button class="btn add-inputs0" id="" (click)="SearchByClasse()" type="button">بحث</button>
                </div>
              </div>


              <div class="d-flex w-100 justify-content-start flex-wrap" *ngIf="isSelected('event')">
                <div class="ml-3">
                  <label for="month"><span><i class="fa fa-exclamation-circle fa-lg"></i></span> &nbsp; &nbsp;الفعالية </label>
                  <select id="month" (change)="getProjet($event)">
                    <option [ngValue]="undefined" selected disabled>-اختر-</option>
                    <option *ngFor="let item of EvListG" value="{{item.projet}}">{{item.projet}}</option>
                  </select>
                </div>

                <div class="ml-3">
                  <button class="btn add-inputs0" id="" (click)="SearchByProjet()" type="button">بحث</button>
                </div>
              </div>


              <div class="d-flex w-100 justify-content-start flex-wrap" *ngIf="isSelected('date')">
                <div class="ml-3">
                  <label for="target">تاريخ البداية   </label>
                  <input type="date" (change)="getDateDeb($event)" />&nbsp; &nbsp;
                  <label for="target">تاريخ النهاية   </label>
                  <input type="date" (change)="getDateFin($event)" />&nbsp; &nbsp;

                </div>



                <div class="ml-3">
                  <button class="btn add-inputs0" id="" (click)="SearchByDate()" type="button">بحث</button>
                </div>
              </div>


            </div>
          </div>
        </div>


        <div class="row w-100 d-flex form-box">
          <div class="col-md-12 col-sm-12">

            <label class="main">
              <span><i class="fa fa-search"></i></span>
              نتيجة البحث
            </label>

            <div class="d-flex w-100 justify-content-start flex-wrap">

              <br />
              <div class="table-responsive new-table2">
                <table class="table table-bordered text-center table-striped">
                  <thead class="thead-gestimary">
                    <tr>
                      <th scope="col">م</th>
                      <th scope="col"> القسم</th>
                      <th scope="col">المشروع</th>
                      <th scope="col">نوع النشاط</th>
                      <th scope="col">العنوان</th>
                      <th scope="col">التاريخ</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let ev of EvListFiltred">
                      <td [routerLink]="['/event-details', ev.id]">{{ev.id}}</td>
                      <td [routerLink]="['/event-details', ev.id]">{{ev.classe}}</td>
                      <td [routerLink]="['/event-details', ev.id]">{{ev.projet}}</td>
                      <td [routerLink]="['/event-details', ev.id]">{{ev.typeAct}}</td>
                      <td [routerLink]="['/event-details', ev.id]">{{ev.attribut2}}</td>

                      <td [routerLink]="['/event-details', ev.id]">{{ev.datetime}}</td>

                    </tr>
                  </tbody>
                </table>

              </div>
            </div>

          </div>
        </div>


      </div>
    </div>

  </div>
</div>


<!-- Footer -->
<footer class="text-center">
  <p>كل الحقوق محفوظة لمؤسسة مواهب الخليج بالتنسيق و التعاون مع جمعية الدعوة بالطائف  <img src="assets/images/awal.png" style="width:40px;height:40px;"> </p>
</footer>
