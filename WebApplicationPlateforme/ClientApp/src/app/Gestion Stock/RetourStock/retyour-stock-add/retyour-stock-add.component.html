<app-nav-menu></app-nav-menu>
<!-- Page Content -->
<div class="content">
  <div class="row">
    <div class="col-md-3 col-sm-4">
      <app-side-menu></app-side-menu>
    </div>

    <div class="col-md-9 col-sm-8">

      <header>
        <h3 class="task-head">إسترجاع مخزون </h3>
      </header>
      <div class="events1">
        <form class="form-row events-form mb-3" #form="ngForm" autocomplete="off" (submit)="onSubmit(form)">
          <div class="col-md-6">
            <label for="gestoject">
              اسم المخزن
            </label>

            <select id="account" name="stockId" #stockId="ngModel" [(ngModel)]="Retstockage.stockId" (change)="getStockData($event);getStockName($event)" required>
              <option [ngValue]="undefined" selected disabled>-اختر-</option>
              <option *ngFor="let item of stockageList" value="{{item.id}}">{{item.nomstock}}</option>
            </select>
            <div *ngIf="stockId.invalid && form.submitted && !isValidFormSubmitted" class="alert alert-danger">
              مطلوب اسم المخزن .
            </div>
          </div>


          <div class="col-md-6">
            <label for="target">	الصنف </label>
            <select id="account" name="benId" #benId="ngModel" [(ngModel)]="Retstockage.benId"
                    (change)="getTypeStockName($event)">
              <option [ngValue]="undefined" selected disabled>-اختر-</option>
              <option *ngFor="let item of typeStockList" value="{{item.id}}">{{item.type}}</option>
            </select>

            <div *ngIf="benId.invalid && form.submitted && !isValidFormSubmitted" class="alert alert-danger">
              مطلوب الصنف .
            </div>
          </div>
          <div class="col-md-6">
            <label for="number">	الكمية </label>
            <input type="number" maxlength="10" id="number"
                   name="quatite" #quatite="ngModel" [(ngModel)]="Retstockage.quatite" />

            <div *ngIf="quatite.invalid && form.submitted && !isValidFormSubmitted" class="alert alert-danger">
              مطلوب الكمية .
            </div>
          </div>
          <div class="col-md-6">
            <label class="number">

              الحالة
            </label>

            <select id="account" name="etat" #etat="ngModel" [(ngModel)]="Retstockage.etat" required>
              <option [ngValue]="undefined" selected disabled>-اختر-</option>
              <option value="جيدة ">جيدة  </option>
              <option value="غير جيدة">غير جيدة</option>
            </select>

          </div>

          <div class="col-md-6">
            <label>

              نوع المستفيد
            </label>

            <select id="account" (change)="getTypeBen($event)" required>
              <option [ngValue]="undefined" selected disabled>-اختر-</option>
              <option value="خارجي">خارجي </option>
              <option value="موظف">موظف </option>
            </select>
          </div>

          <div class="col-md-6" *ngIf="employee">
            <label for="target">	الموظف </label>
            <select id="account" name="bennom" #bennom="ngModel" [(ngModel)]="Retstockage.bennom">
              <option [ngValue]="undefined" selected disabled>-الموظف-</option>
              <option *ngFor="let item of UsersList" value="{{item.fullName}}">{{item.fullName}}</option>
            </select>
          </div>


          <div class="col-md-6" *ngIf="Ben">
            <label for="target">	المستفيد </label>
            <select id="account" name="bennom" #bennom="ngModel" [(ngModel)]="Retstockage.bennom">
              <option [ngValue]="undefined" selected disabled>-المستفيد-</option>
              <option *ngFor="let item of BenList" value="{{item.nomprenom}}">{{item.nomprenom}}</option>
            </select>
          </div>

          <div class="col-md-6">
            <label for="number">	 تاريخ الارجاع </label>
            <input type="date" id="number"
                   name="dateRetour" #dateRetour="ngModel" [(ngModel)]="Retstockage.dateRetour" />
          </div>


          <div class="col-12 text-left">
            <input class="btn btn-info px-4" type="submit" value="حفظ" />

          </div>

          <div class="col-md-6">
            <div class="success-msg" *ngIf="succ">
              <i class="fa fa-check"></i>
              {{msg}}
            </div>

            <div class="error-msg" *ngIf="failed">
              <i class="fa fa-times-circle"></i>
              {{msg}}
            </div>
          </div>
        </form>
      </div>
    </div>

  </div>

</div>
<!-- Footer -->
<footer class="text-center">
  <p>كل الحقوق محفوظة لمؤسسة مواهب الخليج  <a class="navbar-brand" href="#"> <img src="assets/images/awal.png" style="width:40px;height:40px;"></a> </p>
</footer>
