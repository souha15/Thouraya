<app-nav-menu></app-nav-menu>
<!-- Page Content -->
<div class="content">
  <div class="row">
    <div class="col-md-3 col-sm-4">
      <app-side-menu></app-side-menu>
    </div>

    <div class="col-md-9 col-sm-8">
      <header>
        <h3 class="task-head">تقديم طلب إذن</h3>
      </header>
      <div class="permision">
    
        <form class="task-form form-row service-form" #form="ngForm" autocomplete="off" (submit)="onSubmit(form)">
          <div class="col-md-6">
            <label for="date">التاريخ</label>
            <input type="date" id="date" name="date" #date="ngModel" [(ngModel)]="per.date" [min]="today" />
          </div>
          <div class="col-md-6">
            <label for="perm-type">نوع الاستئذان</label>
            <select id="perm-type" name="type" #type="ngModel" [(ngModel)]="per.type" (change)="testAutre($event)">
              <option [ngValue]="undefined" selected disabled>-نوع الاستئذان-</option>
              <option value="انصراف مبكر">انصراف مبكر</option>
              <option value="تأخر في الحضور">تأخر في الحضور</option>
              <option value="استئذان عمل">استئذان عمل</option>
              <option value=" اسئذان خاص"> اسئذان خاص</option>
              <option value="الخروج والعودة أثناء الدوام">الخروج والعودة أثناء الدوام</option>
              <option value="أخرى">أخرى</option>
            </select>
          </div>
          <div class="col-md-6" *ngIf="autre">
            <label for="other-type">إذن آخر</label>
            <input type="text" id="other-type" name="autre" #autre="ngModel" [(ngModel)]="per.autre" />
          </div>
          <div class="col-md-6">
            <label for="time1">من الساعة</label>
            <input type="time" id="time1" name="heuredeb" #heuredeb="ngModel" [(ngModel)]="per.heuredeb" (change)="startTime($event)" />
          </div>
          <div class="col-md-6">
            <label for="time2">إلى الساعة</label>
            <input type="time" id="time2" name="heurefin" #heurefin="ngModel" [(ngModel)]="per.heurefin" (change)="endTime($event)" />
          </div>
          <div class="col-md-6">
            <label for="reason">سبب الاستئذان</label>
            <textarea class="form-control" id="reason" name="raison" #raison="ngModel" [(ngModel)]="per.raison"></textarea>
          </div>

          <div class="col-12 text-center text-md-left mt-3">
            <input class="btn btn-info"
                   style="width: 130px"
                   type="submit"
                   value="ارسال" />
          </div>
          
          <div class="col-md-6">
            <div class="success-msg" *ngIf="succ">
              <i class="fa fa-check"></i>
              {{msg}}
            </div>

            <div class="error-msg" *ngIf="failed">
              <i class="fa fa-times-circle"></i>
              {{msg}}
            </div>
          </div>
        </form>
      </div>
    </div><!-- End col-9 -->
  </div>

</div>
<!-- Footer -->
<footer class="text-center">
 <p>كل الحقوق محفوظة لمؤسسة مواهب الخليج  <a class="navbar-brand" href="#"> <img src="assets/images/awal.png" style="width:40px;height:40px;"></a> </p>
</footer>
