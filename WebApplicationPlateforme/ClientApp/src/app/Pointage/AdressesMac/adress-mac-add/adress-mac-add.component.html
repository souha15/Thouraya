<app-nav-menu></app-nav-menu>
<!-- Page Content -->
<div class="content">
  <div class="row">
    <div class="col-md-3 col-sm-4">
      <app-side-menu></app-side-menu>
    </div>

    <div class="col-md-9 col-sm-8">
      <header>
        <h3 class="task-head">اعدادات الحضور والانصراف</h3>
      </header>
      <form action="" class="task-form form-row" #form="ngForm" autocomplete="off" (submit)="onSubmit(form)">

        <div class="col-md-6">
          <div>
            <label for="emp">الموظف</label>
            <select name="userId" #userId="ngModel" [(ngModel)]="mac.userId" id="emp" (change)="getUserName($event) ">
              <option [ngValue]="undefined" selected disabled> الموظف</option>
              <option *ngFor="let item of UsersList" value="{{item.id}}">{{item.fullName}}</option>
            </select>
          </div>
        </div>


        <div class="col-md-6">
          <div>
            <label for="emp">الادارة</label>
            <input type="text" value="{{mac.adminName}}" id="emp" disabled />

          </div>
        </div>


        <div class="col-md-6">
          <div>
            <label for="emp">القسم</label>
            <input type="text" value="{{mac.etabName}}" id="emp" disabled />
          </div>
        </div>

        <div class="col-md-6">
          <div>
            <label for="emp">ماك أدريس</label>
            <input type="text" name="adresseMac" #adresseMac="ngModel" [(ngModel)]="mac.adresseMac" id="emp" />

          </div>
        </div>
        <div class="col-md-6">
          <div>
            <label for="emp">بيانات الجهاز</label>
            <input type="text" name="pcInfos" #pcInfos="ngModel" [(ngModel)]="mac.pcInfos" id="emp" />

          </div>
        </div>
        <div class="col-md-6">
          <div>
            <label for="emp">الطابع الزمني</label>
            <input type="text" name="date" #date="ngModel" [(ngModel)]="mac.date" id="emp" />

          </div>
        </div>


        <div class="col-md-6">
          <input type="submit"
                 value="حفظ"
                 class="btn btn-info"
                 style="width: 130px" />
        </div>
      </form>

      <div style="border-bottom: 2px solid #adb5bd; margin-bottom: 50px">
        <p></p>
      </div>

      <div class="tabel-cont table-responsive">
        <table class="table table-striped theme-table table-bordered results">
          <thead class="">
            <tr>
              <th scope="col">م</th>
              <th scope="col">الموظف</th>
              <th scope="col">الادارة</th>
              <th scope="col">القسم</th>
              <th scope="col">ماك أدريس</th>
              <th scope="col">بيانات الجهاز</th>
              <th scope="col">الطابع الزمني</th>
              <th scope="col">حذف </th>


            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let ev of macList |  orderBy: key : reverse | filter:filter| paginate: { itemsPerPage: count, currentPage: p } ; let i = index; let even=even">
              <th scope="row" (click)="populateForm(ev)">{{(p-1) * count + i + 1}}</th>
              <td (click)="populateForm(ev)">{{ev.userName}}</td>
              <td (click)="populateForm(ev)">{{ev.adminName}}</td>
              <td (click)="populateForm(ev)">{{ev.etabName}}</td>
              <td (click)="populateForm(ev)">{{ev.adresseMac}}</td>
              <td (click)="populateForm(ev)"><a href="{{ev.pcInfos}}">{{ev.pcInfos}}</a></td>
              <td (click)="populateForm(ev)">{{ev.date}}</td>

              <td><a (click)="onDelete(ev.id)" class="btn btn-danger"><i class="fa fa-trash"></i>حذف</a></td>
            </tr>
          </tbody>
        </table>

        <nav aria-label="Page navigation example">
          <ul class="pagination justify-content-center">
            <pagination-controls (pageChange)="p = $event" previousLabel="السابق"
                                 nextLabel="التالي"></pagination-controls>
          </ul>
        </nav>

      </div>
    </div>
  </div>

</div>
<!-- Footer -->
<footer class="text-center">
  <p>كل الحقوق محفوظة لمؤسسة مواهب الخليج بالتنسيق و التعاون مع جمعية الدعوة بالطائف  <img src="assets/images/awal.png" style="width:40px;height:40px;"> </p>
</footer>
