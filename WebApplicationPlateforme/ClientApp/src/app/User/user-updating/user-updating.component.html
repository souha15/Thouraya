<app-nav-menu></app-nav-menu>
<!-- Page Content -->
<div class="content">
  <div class="row">
    <div class="col-md-3 col-sm-4">
      <app-side-menu></app-side-menu>
    </div>
    <div class="col-md-9 col-sm-8">
      <header>
        <h3 class="task-head">تحديث موظف</h3>
      </header>
      <div class="emp-data-reg">
        <ul class="nav nav-pills d-flex mb-3" id="pills-tab" role="tablist">

          <li class="nav-item flex-fill">
            <a class="nav-link active"
               id="personal-tab"
               data-toggle="pill"
               href="#personal-data"
               role="tab"
               aria-controls="pills-home"
               aria-selected="true" style="font-weight:bold">البيانات الشخصية</a>
          </li>

          <li class="nav-item flex-fill">
            <a class="nav-link"
               id="job-tab"
               data-toggle="pill"
               href="#job-data"
               role="tab"
               aria-controls="job-data"
               aria-selected="false" style="font-weight:bold">البيانات الوظيفية</a>
          </li>
          <li class="nav-item flex-fill">
            <a class="nav-link"
               id="salary-tab"
               data-toggle="pill"
               href="#salary"
               role="tab"
               aria-controls="pills-contact"
               aria-selected="false" style="font-weight:bold">بيانات المرتب</a>
          </li>

          <li class="nav-item flex-fill">
            <a class="nav-link"
               id="account-tab"
               data-toggle="pill"
               href="#account-data"
               role="tab"
               aria-controls="account-data"
               aria-selected="false" style="font-weight:bold">بيانات الحساب</a>
          </li>
        </ul>
        <div class="tab-content" id="pills-tabContent">

          <div class="tab-pane fade show active"
               id="personal-data"
               role="tabpanel"
               aria-labelledby="personal-tab">

            <form class="task-form form-row"  #form="ngForm" autocomplete="off" (submit)="onsubmit(form)">

              <div class="col-md-6">
                <label for="arabic" style="width:25%;font-weight:bold">الاسم بالعربي </label>
                <input type="text" id="arabic"  name="fullName"  #fullName="ngModel" [(ngModel)]="UserService.formData.fullName" />
                <div class="alert alert-danger" *ngIf="UserService.formModel.get('fullName').touched && UserService.formModel.get('fullName').errors?.required">
                  <p *ngIf="UserService.formModel.get('fullName').errors?.required">هذا الحقل إجباري</p>

                </div>
              </div>


              <div class="col-md-6">
                <label for="latin" style="width:25%;font-weight:bold">الاسم باللاتيني </label>
                <input type="text" id="latin" name="fullNameEnglish"  #fullNameEnglish="ngModel" [(ngModel)]="UserService.formData.fullNameEnglish" />
              </div>
              <div class="col-md-6"  *ngIf="!testrole">
                <label for="a" style="width:25%;font-weight:bold">الهوية </label>
                <input type="text" id="a" name="registreCivil"  #registreCivil="ngModel" [(ngModel)]="UserService.formData.registreCivil" required />

                <div class="alert alert-danger" *ngIf="UserService.formModel.get('registreCivil').touched && UserService.formModel.get('registreCivil').errors?.required">
                  <p *ngIf="UserService.formModel.get('registreCivil').errors?.required">هذا الحقل إجباري</p>

                </div>
              </div>





              <div class="col-md-6"  *ngIf="!testrole">
                <label for="b" style="width:25%;font-weight:bold">الجنسية </label>
                <input type="text" id="b"  name="nationalite"  #nationalite="ngModel" [(ngModel)]="UserService.formData.nationalite" />
              </div>
              <div class="col-md-6"  *ngIf="!testrole">
                <label for="d" style="width:25%;font-weight:bold"> رقم الحدود للمقيم </label>
                <input type="text" id="d"  name="paysetude"  #paysetude="ngModel" [(ngModel)]="UserService.formData.paysetude" />
              </div>


              <div class="col-md-6">
                <label for="f" style="width:25%;font-weight:bold">الجنس  </label>
                <select class="" style="width:50%" name="sexe" #sexe="ngModel" [(ngModel)]="UserService.formData.sexe">
                  <option [ngValue]="undefined" selected>-النوع-</option>
                  <option value="أنثى">أنثى</option>
                  <option value="ذكر">ذكر </option>
                </select>
              </div>


              <div class="col-md-6"  *ngIf="!testrole">
                <label for="i" style="width:25%;font-weight:bold">تاريخ العقد </label>
                <input type="date" id="i"  name="unite"  #unite="ngModel" [(ngModel)]="UserService.formData.unite" />
              </div>
              <div class="col-md-6"  *ngIf="!testrole">
                <label for="h" style="width:25%;font-weight:bold">تاريخ الميلاد </label>
                <input type="date" id="h" style="width:50%" name="dateNaissance"  #dateNaissance="ngModel" [(ngModel)]="UserService.formData.dateNaissance" />
              </div>
              <div class="col-md-6"  *ngIf="!testrole">
                <label for="g" style="width:25%;font-weight:bold">العنوان </label>
                <input type="text" id="g" name="adresse"  #adresse="ngModel" [(ngModel)]="UserService.formData.adresse" />
              </div>
              <div class="col-md-6"  *ngIf="!testrole">
                <label for="j" style="width:25%;font-weight:bold">مكان الميلاد </label>
                <input type="text" id="j"  name="lieuNaissance"  #lieuNaissance="ngModel" [(ngModel)]="UserService.formData.lieuNaissance" />
              </div>
              <div class="col-md-6">
                <label for="k" style="width:25%;font-weight:bold">الجوال </label>
                <input type="text" id="k"  name="tel"  #tel="ngModel" [(ngModel)]="UserService.formData.tel" />
              </div>
              <div class="col-md-6"  *ngIf="!testrole">
                <label for="l" style="width:25%;font-weight:bold">جواز السفر </label>
                <input type="text" id="l"  name="passeport"  #passeport="ngModel" [(ngModel)]="UserService.formData.passeport"/>
              </div>
              <div class="col-md-6"  *ngIf="!testrole">
                <label for="m" style="width:25%;font-weight:bold">الحالة الاجتماعية </label>

                <select class=""  name="statut"  #statut="ngModel" [(ngModel)]="UserService.formData.statut" style="width:50%">
                  <option [ngValue]="undefined" selected>-الحالة الاجتماعية-</option>
                  <option value="أعزب">أعزب</option>
                  <option value="متزوج">متزوج</option>
                </select>
              </div>
              <div class="col-md-6"  *ngIf="!testrole">
                <label for="n" style="width:25%;font-weight:bold">فصيلة الدم </label>
                <input type="text" id="n"  name="typeSang"  #typeSang="ngModel" [(ngModel)]="UserService.formData.typeSang" />
              </div>


              <div class="col-md-6"  *ngIf="!testrole">
                <label for="files2" class="files-label">
                  <ul class="d-flex list-unstyled">
                    <li class="upload-symbol">
                      <i class="fa fa-user fa-5x"></i>
                    </li>
                    <li class="flex-fill">
                      <p>اسحب هنا لتحميل الصورة الشخصية</p>
                      <span>أو انقر للاختيار يدويا</span>
                    </li>
                  </ul>
                </label>
                <input type="file" id="files2" class="" (change)="upload($event)" #inputFile />
              </div>


            </form>
            <div class="col-md-12 text-left">
              <input type="submit"
                     style="width: 130px;"
                     class="btn btn-primary next"
                     value="التالي &#8811;"
                     data-toggle="pill"
                     href="#job-data"
                     role="tab"
                     aria-controls="job-data" />
            </div>

          </div>

          <div class="tab-pane fade"
               id="salary"
               role="tabpanel"
               aria-labelledby="salary-tab">

            <form class="task-form form-row" #form="ngForm" autocomplete="off" (submit)="onsubmit(form)">
              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="rank" style="width:25%;font-weight:bold">المرتبة</label>
                <input type="text" id="rank" name="rang" #rang="ngModel" [(ngModel)]="UserService.formData.rang" />
              </div>
              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="degree" style="width:25%;font-weight:bold"> الدرجة </label>
                <input type="text" id="degree" name="degre" #degre="ngModel" [(ngModel)]="UserService.formData.degre" />
              </div>
              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="salary" style="width:25%;font-weight:bold">الراتب </label>
                <input type="text" id="salary" name="salaire" #salaire="ngModel" [(ngModel)]="UserService.formData.salaire"  />
              </div>
              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="plus" style="width:25%;font-weight:bold">البدلات</label>
                <input type="text" id="plus" name="indemnite" #indemnite="ngModel" [(ngModel)]="UserService.formData.indemnite"  />
              </div>
              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="other-plus" style="width:25%;font-weight:bold">بدل سكن</label>
                <input type="text" id="other-plus" name="autreIndemnite" #autreIndemnite="ngModel" [(ngModel)]="UserService.formData.autreIndemnite"  />
              </div>

              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="plus" style="width:25%;font-weight:bold">التأمينات </label>
                <input type="text" id="plus" name="typeEmploi" #typeEmploi="ngModel" [(ngModel)]="UserService.formData.typeEmploi" />
              </div>
              <div class="col-md-6 mb-2" *ngIf="SalaireNet|| !testrole">
                <label for="plus" style="width:25%;font-weight:bold">الراتب الصافي  </label>
                <input type="text" id="plus"  name="typeQualification" #typeQualification="ngModel" [(ngModel)]="UserService.formData.typeQualification"/>
              </div>

              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="plus" style="width:25%;font-weight:bold">الراتب الاجمالي  </label>
                <input type="text" id="plus" name="etatuser" #etatuser="ngModel" [(ngModel)]="UserService.formData.etatuser"/>
              </div>


              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="plus" style="width:25%;font-weight:bold">البنك </label>
                <select class="" name="faculteEcole" #faculteEcole="ngModel" [(ngModel)]="UserService.formData.faculteEcole" style="width:50%">
                  <option [ngValue]="undefined" selected>-البنك-</option>
                  <option value="الراجحي ">الراجحي </option>
                  <option value="الأهلي ">الأهلي </option>
                  <option value="الإنماء ">الإنماء </option>
                  <option value="الرياض">الرياض</option>
                  <option value="البلاد ">البلاد </option>
                  <option value="الأول ">الأول </option>
                  <option value="الجزيرة">الجزيرة</option>
                </select>
              </div>
              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="plus" style="width:25%;font-weight:bold">رقم الآيبان</label>
                <input type="text" id="plus" name="dateQualification" #dateQualification="ngModel" [(ngModel)]="UserService.formData.dateQualification" />
              </div>


            </form>


            <div class="col-md-12 text-left">
              <input type="submit"
                     style="width: 130px;"
                     class="btn btn-primary next"
                     value="التالي &#8811;"
                     data-toggle="pill"
                     href="#account-data"
                     role="tab"
                     aria-controls="account-data" />
            </div>
          </div>



          <div class="tab-pane fade"
               id="job-data"
               role="tabpanel"
               aria-labelledby="job-tab">
            <style>
              label {
                cursor: pointer;
              }
            </style>
            <form class="task-form form-row" #form="ngForm" autocomplete="off" (submit)="onsubmit(form)">



              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="manage" style="width:25%;font-weight:bold"> الادارة </label>
                <select class="" name="idAdministration" #idAdministration="ngModel" [(ngModel)]="UserService.formData.idAdministration" (change)="admintest($event)" style="width:50%">
                  <option [ngValue]="undefined" selected>-الإدارة-</option>
                  <option *ngFor="let item of AdministrationList" value="{{item.id}}">{{item.nom}}</option>
                </select>
              </div>


              <div class="col-md-6 mb-2">
                <label for="emp-id" style="width:25%;font-weight:bold"> الرئيس المباشر </label>

                <select class="" name="attribut1"  #attribut1="ngModel" [(ngModel)]="UserService.formData.attribut1" (change)="findnum($event)">
                  <option [ngValue]="undefined" selected>-الرئيس المباشر-</option>
                  <option *ngFor="let item of UsersList" value="{{item.id}}">{{item.fullName}}</option>
                </select>
              </div>

              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="emp-id" style="width:25%;font-weight:bold">الترقيم الوظيفي</label>
                <input class="" type="text" placeholder="الرقم الوظيفي" id="new-user-password2" name="num" #num="ngModel" [(ngModel)]="UserService.formData.num" required maxlength="4">

              </div>

              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="job-place" style="width:25%;font-weight:bold">مسمى الوظيفة </label>
                <input type="text" id="job-place" name="emploi" #emploi="ngModel" [(ngModel)]="UserService.formData.emploi" />
              </div>

              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="job-rank" style="width:25%;font-weight:bold">تاريخ التعيين </label>
                <input type="date" id="job-rank" name="daterectrutement" #daterectrutement="ngModel" [(ngModel)]="UserService.formData.daterectrutement" />
              </div>

              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="job-unit" style="width:25%;font-weight:bold">نوع الدوام </label>
                <select class="" name="heureArrive" #heureArrive="ngModel" [(ngModel)]="UserService.formData.heureArrive" style="width:50%" (change)="typePresence($event)">
                  <option [ngValue]="undefined" selected>-نوع الدوام -</option>
                  <option value="كلي">كلي</option>
                  <option value="جزئي">جزئي</option>
                </select>
              </div>

              <div class="col-md-6 mb-2" *ngIf="typepresence||!testrole">
                <label for="job-type" style="width:25%;font-weight:bold">الفترة</label>
                <input type="text" id="job-type" name="heureDepart" #heureDepart="ngModel" [(ngModel)]="UserService.formData.heureDepart" />
              </div>


              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="job-type" style="width:25%;font-weight:bold">الرقم في مكتب العمل</label>
                <input type="text" id="job-type" name="mention" #mention="ngModel" [(ngModel)]="UserService.formData.mention" />
              </div>
              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="job-type" style="width:25%;font-weight:bold">رقم التأمينات</label>
                <input type="text" id="date" name="classement" #classement="ngModel" [(ngModel)]="UserService.formData.classement" style="width:50%" />
              </div>

              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="qualifi" style="width:25%;font-weight:bold">المؤهل</label>
                <select class="" name="qualification" #qualification="ngModel" [(ngModel)]="UserService.formData.qualification" style="width:50%">
                  <option [ngValue]="undefined" selected>-المؤهل -</option>
                  <option value="أقل من الثانوية">أقل من الثانوية</option>
                  <option value="ثانوية عامة">ثانوية عامة</option>
                  <option value="دبلوم">دبلوم </option>
                  <option value="بكالوريوس">بكالوريوس </option>
                  <option value="ماجستير">ماجستير</option>
                  <option value="دكتوراه">دكتوراه</option>
                </select>
              </div>

              <div class="col-md-6 mb-2" *ngIf="!testrole">
                <label for="spec" style="width:25%;font-weight:bold">التخصص</label>
                <input type="text" id="spec" name="specialite" #specialite="ngModel" [(ngModel)]="UserService.formData.specialite" />
              </div>
            </form>




            <div class="col-md-12 text-left">
              <input type="submit"
                     style="width: 130px;"
                     class="btn btn-primary next"
                     value="التالي &#8811;"
                     data-toggle="pill"
                     href="#salary"
                     role="tab"
                     aria-controls="pills-contact" />
            </div>




          </div>

          <div class="tab-pane fade"
               id="account-data"
               role="tabpanel"
               aria-labelledby="account-tab">

            <form class="task-form form-row" #form="ngForm" autocomplete="off" (submit)="onsubmit(form)">

              <div class="col-md-6">
                <label for="e" style="width:25%;font-weight:bold">البريد الالكتروني </label>
                <input type="text" id="e"  name="email" #email="ngModel" [(ngModel)]="UserService.formData.email" />

                <div class="alert alert-danger" *ngIf="UserService.formModel.get('email').touched && UserService.formModel.get('email').errors?.required">
                  <p *ngIf="UserService.formModel.get('email').touched && UserService.formModel.get('email').errors?.required">هذا الحقل إجباري</p>
                </div>
                <div class="alert alert-danger" *ngIf="UserService.formModel.get('email').touched && UserService.formModel.get('email').errors?.email">
                  <p *ngIf="UserService.formModel.get('email').touched && UserService.formModel.get('email').errors?.email">عنوان البريد الإلكتروني غير صالح<p>

                </div>
              </div>

              <div class="col-md-6">
                <!--name=""  #="ngModel" [(ngModel)]="UserService.formData."-->
                <label for="n" style="width:25%;font-weight:bold">اسم المستخدم </label>
                <input type="text" id="n"  name="userName" #userName="ngModel" [(ngModel)]="UserService.formData.userName"  required />
                <div class="alert alert-danger" *ngIf="UserService.formModel.get('UserName').touched && UserService.formModel.get('UserName').errors?.minlength">
                  <p *ngIf="UserService.formModel.get('UserName').touched && UserService.formModel.get('UserName').errors?.minlength">الحد الأدنى 6 أحرف</p>

                </div>
                <div class="alert alert-danger" *ngIf="UserService.formModel.get('UserName').touched && UserService.formModel.get('UserName').errors?.required">
                  <p *ngIf="UserService.formModel.get('UserName').touched && UserService.formModel.get('UserName').errors?.required">هذا الحقل إجباري</p>

                </div>

              </div>

              <div class="col-md-12 text-left">
                <input type="submit"
                       style="width: 130px;"
                       class="btn btn-success"
                       value="حفظ" />
              </div>
            </form>


          </div>

        </div>
      </div>
    </div><!-- End col-9 -->
  </div>

</div>
<!-- Footer -->
<footer class="text-center">
 <p>كل الحقوق محفوظة لمؤسسة مواهب الخليج بالتنسيق و التعاون مع جمعية الدعوة بالطائف  <img src="assets/images/awal.png" style="width:40px;height:40px;"> </p>
</footer>
