<app-nav-menu></app-nav-menu>
<!-- Page Content -->
<div class="content">
  <div class="row">
    <div class="col-md-3 col-sm-4">
      <app-side-menu></app-side-menu>
    </div>
    <div class="col-md-9 col-sm-8">
      <app-nav-user-menu></app-nav-user-menu>
      <header>
        <h2 class="task-head">تسجيل بيانات موظف</h2>
      </header>
      <div class="emp-data-reg">
        <ul class="nav nav-pills d-flex mb-3" id="pills-tab" role="tablist">

          <li class="nav-item flex-fill active">
            <a class="nav-link"
               id="personal-tab"
               data-toggle="pill"
               href="#personal-data"
               role="tab"
               aria-controls="pills-home"
               aria-selected="true" style="font-weight:bold">البيانات الشخصية</a>
          </li>

          <li class="nav-item flex-fill">
            <a class="nav-link"
               id="job-tab"
               data-toggle="pill"
               href="#job-data"
               role="tab"
               aria-controls="job-data"
               aria-selected="false" style="font-weight:bold">البيانات الوظيفية</a>
          </li>
          <li class="nav-item flex-fill">
            <a class="nav-link"
               id="salary-tab"
               data-toggle="pill"
               href="#salary"
               role="tab"
               aria-controls="pills-contact"
               aria-selected="false" style="font-weight:bold">بيانات المرتب</a>
          </li>

          <li class="nav-item flex-fill">
            <a class="nav-link"
               id="account-tab"
               data-toggle="pill"
               href="#account-data"
               role="tab"
               aria-controls="account-data"
               aria-selected="false" style="font-weight:bold">بيانات الحساب</a>
          </li>
        </ul>
        <div class="tab-content" id="pills-tabContent">

          <div class="tab-pane fade show active"
               id="personal-data"
               role="tabpanel"
               aria-labelledby="personal-tab">

            <form class="task-form form-row" [formGroup]="UserService.formModel" autocomplete="off" (submit)="onSubmit()">


              <div class="col-md-6">
                <label for="arabic" style="width:25%;font-weight:bold">الاسم بالعربي </label>
                <input type="text" id="arabic" formControlName="fullName" (change)="getUserName($event)" />
                <div class="alert alert-danger" *ngIf="UserService.formModel.get('fullName').touched && UserService.formModel.get('fullName').errors?.required">
                  <p *ngIf="UserService.formModel.get('fullName').errors?.required">هذا الحقل إجباري</p>

                </div>
              </div>


              <div class="col-md-6">
                <label for="latin" style="width:25%;font-weight:bold">الاسم باللاتيني </label>
                <input type="text" id="latin" formControlName="fullNameEnglish" />
              </div>
              <div class="col-md-6"  >
                <label for="a" style="width:25%;font-weight:bold">الهوية </label>
                <input type="text" id="a" formControlName="registreCivil" maxlength="10"  />

                <div class="alert alert-danger" *ngIf="UserService.formModel.get('registreCivil').touched && UserService.formModel.get('registreCivil').errors?.required">
                  <p *ngIf="UserService.formModel.get('registreCivil').errors?.required">هذا الحقل إجباري</p>

                </div>
              </div>





              <div class="col-md-6"  >
                <label for="b" style="width:25%;font-weight:bold">الجنسية </label>
                <input type="text" id="b" formControlName="nationalite" />
              </div>
              <div class="col-md-6"  >
                <label for="d" style="width:25%;font-weight:bold"> رقم الحدود للمقيم </label>
                <input type="text" id="d" formControlName="paysetude" />
              </div>


              <div class="col-md-6">
                <label for="f" style="width:25%;font-weight:bold">الجنس  </label>
                <select class="" formControlName="sexe" style="width:50%">
                  <option [ngValue]="undefined" selected>-النوع-</option>
                  <option value="أنثى">أنثى</option>
                  <option value="ذكر">ذكر </option>
                </select>
              </div>


              <div class="col-md-6"  >
                <label for="i" style="width:25%;font-weight:bold">تاريخ العقد </label>
                <input type="date" id="i" formControlName="unite" />
              </div>
              <div class="col-md-6"  >
                <label for="h" style="width:25%;font-weight:bold">تاريخ الميلاد </label>
                <input type="date" id="h" formControlName="dateNaissance" style="width:50%" />
              </div>
              <div class="col-md-6"  >
                <label for="g" style="width:25%;font-weight:bold">العنوان </label>
                <input type="text" id="g" formControlName="adresse" />
              </div>
              <div class="col-md-6"  >
                <label for="j" style="width:25%;font-weight:bold">مكان الميلاد </label>
                <input type="text" id="j" formControlName="lieuNaissance" />
              </div>
              <div class="col-md-6">
                <label for="k" style="width:25%;font-weight:bold">الجوال </label>
                <input type="text" id="k" formControlName="tel" />
              </div>
              <div class="col-md-6"  >
                <label for="l" style="width:25%;font-weight:bold">جواز السفر </label>
                <input type="text" id="l" formControlName="passeport" />
              </div>
              <div class="col-md-6"  >
                <label for="m" style="width:25%;font-weight:bold">الحالة الاجتماعية </label>

                <select class="" formControlName="statut" style="width:50%">
                  <option [ngValue]="undefined" selected>-الحالة الاجتماعية-</option>
                  <option value="أعزب">أعزب</option>
                  <option value="متزوج">متزوج</option>
                </select>
              </div>
              <div class="col-md-6"  >
                <label for="n" style="width:25%;font-weight:bold">فصيلة الدم </label>
                <input type="text" id="n" formControlName="typeSang" />
              </div>


              <div class="col-md-6"  >
                <label for="files2" class="files-label">
                  <ul class="d-flex list-unstyled">
                    <li class="upload-symbol">
                      <i class="fa fa-user fa-5x"></i>
                    </li>
                    <li class="flex-fill">
                      <p>اسحب هنا لتحميل الصورة الشخصية</p>
                      <span>أو انقر للاختيار يدويا</span>
                    </li>
                  </ul>
                </label>
                <input type="file" id="files2" class="" (change)="upload($event)" #inputFile />
              </div>


            </form>
            <div class="col-md-12 text-left">
              <input type="submit"
                     style="width: 130px;"
                     class="btn btn-primary next"
                    value="التالي &#8592;"
                     data-toggle="pill"
                     href="#job-data"
                     role="tab"
                     aria-controls="job-data" />
            </div>
            <br />
          </div>

          <div class="tab-pane fade"
               id="salary"
               role="tabpanel"
               aria-labelledby="salary-tab">

            <form class="task-form form-row" [formGroup]="UserService.formModel" autocomplete="off" (submit)="onSubmit()">
              <div class="col-md-6 mb-2">
                <label for="rank" style="width:25%;font-weight:bold">المرتبة</label>
                <input type="text" id="rank" formControlName="rang" />
              </div>
              <div class="col-md-6 mb-2">
                <label for="degree" style="width:25%;font-weight:bold"> الدرجة </label>
                <input type="text" id="degree" formControlName="degre" />
              </div>
              <div class="col-md-6 mb-2">
                <label for="salary" style="width:25%;font-weight:bold">الراتب </label>
                <input type="text" id="salary" formControlName="salaire" (change)="getSalaire($event)" />
              </div>
              <div class="col-md-6 mb-2">
                <label for="plus" style="width:25%;font-weight:bold">البدلات</label>
                <input type="text" id="plus" formControlName="indemnite" (change)="getIndemnite($event)" />
              </div>
              <div class="col-md-6 mb-2">
                <label for="other-plus" style="width:25%;font-weight:bold">بدل سكن</label>
                <input type="text" id="other-plus" formControlName="autreIndemnite" (change)="getAuteIndemnite($event)" />
              </div>

              <div class="col-md-6 mb-2">
                <label for="plus" style="width:25%;font-weight:bold">التأمينات </label>
                <input type="text" id="plus" formControlName="typeEmploi" (change)="getAssurance($event)" />
              </div>
              <div class="col-md-6 mb-2" *ngIf="SalaireNet ">
                <label for="plus" style="width:25%;font-weight:bold">الراتب الصافي  </label>
                <input type="text" id="plus" formControlName="typeQualification" [(ngModel)]="typeQualification" disabled />
              </div>

              <div class="col-md-6 mb-2" *ngIf="SalaireNet">
                <label for="plus" style="width:25%;font-weight:bold">الراتب الاجمالي  </label>
                <input type="text" id="plus" formControlName="etatuser"/>
              </div>
              <div class="col-md-6 mb-2">
                <label for="plus" style="width:25%;font-weight:bold">البنك </label>
                <select class="" formControlName="faculteEcole" style="width:50%">
                  <option [ngValue]="undefined" selected>-البنك-</option>
                  <option value="الراجحي ">الراجحي </option>
                  <option value="الأهلي ">الأهلي </option>
                  <option value="الإنماء ">الإنماء </option>
                  <option value="الرياض">الرياض</option>
                  <option value="البلاد ">البلاد </option>
                  <option value="الأول ">الأول </option>
                  <option value="الجزيرة">الجزيرة</option>
                </select>
              </div>
              <div class="col-md-6 mb-2">
                <label for="plus" style="width:25%;font-weight:bold">رقم الآيبان</label>
                <input type="text" id="plus" formControlName="dateQualification" />
              </div>


            </form>

            <div class="col-md-12 text-left inner">
              <input type="submit"
                     style="width: 130px;"
                     class="btn btn-primary"
                     value="السابق &#8594;"
                     data-toggle="pill"
                     href="#job-data"
                     role="tab"
                     aria-controls="job-data" />
              &nbsp;&nbsp;&nbsp;
              <input type="submit"
                     style="width: 130px;"
                     class="btn btn-primary"
                     value="التالي &#8592;"
                     data-toggle="pill"
                     href="#account-data"
                     role="tab"
                     aria-controls="account-data" />



            </div>

            <br />
          </div>



          <div class="tab-pane fade"
               id="job-data"
               role="tabpanel"
               aria-labelledby="job-tab">
            <style>
              label {
                cursor: pointer;
              }
            </style>
            <form class="task-form form-row" [formGroup]="UserService.formModel" autocomplete="off" (submit)="onSubmit()">

              <div class="col-md-6">

                <div class="form-check-inline" *ngIf="rowsel">

                  <ul id="menu">

                    <li>
                      <label style="background-color:#93C54B;color:white">{{position}}</label>

                    </li>
                  </ul>
                </div>
              </div>

              <div class="col-md-6"></div>

              <label for="emp-id" style="width:10%;height:10%; font-weight:bold">صفة الموظف</label>
              <div>

                <div class="form-check-inline" *ngIf="roles">

                  <ul id="menu">

                    <li *ngFor="let item of roles;let i = index">

                      <input type="checkbox" [id]="'roles-'+i" value="{{item.id}}"
                             [checked]="item.selected" (change)="updateSelectedRoles(i)" name="contacts" id="contacts">
                      <label [for]="'roles-'+i" *ngIf="item.name=='EMPLOYEE' ">موظف</label>
                      <label [for]="'roles-'+i" *ngIf="item.name=='DIRECTORGENERAL' ">المدير التنفيذي</label>
                      <label [for]="'roles-'+i" *ngIf="item.name=='ADMINISTRATEUR' ">مسؤول النظام</label>
                      <label [for]="'roles-'+i" *ngIf="item.name=='DIRECTORETAB'">مدير قسم</label>
                      <label [for]="'roles-'+i" *ngIf="item.name=='RESSOURCEHUMAINE' ">مسؤول شؤون الموظفين</label>
                      <label [for]="'roles-'+i" *ngIf="item.name=='RESPFINANCE' ">مسؤول مالية</label>
                      <label [for]="'roles-'+i" *ngIf="item.name=='DIRECTORADMN'">مدير ادارة </label>



                      <!--

                              <label [for]="'roles-'+i" *ngIf="item.name=='EMPLOYEE'">{{item.name}}</label>
                              <label [for]="'roles-'+i">{{item.name}}</label>
                              <label [for]="'roles-'+i">{{item.name}}</label>
                              <label [for]="'roles-'+i">{{item.name}}</label>
                              <label [for]="'roles-'+i">{{item.name}}</label>
                              <label [for]="'roles-'+i">{{item.name}}</label>
                              <label [for]="'roles-'+i">{{item.name}}</label>
                              <label [for]="'roles-'+i">{{item.name}}</label>
                              <label [for]="'roles-'+i">{{item.name}}</label>
                              <label [for]="'roles-'+i">{{item.name}}</label>
                              <label [for]="'roles-'+i">{{item.name}}</label>



          -->

                    </li>
                  </ul>
                </div>
              </div>

              <div class="col-md-6 mb-2">
                <label for="emp-id" style="width:25%;font-weight:bold"> ٱلي</label>
                <input type="radio"
                       name="contacts" id="contacts" (change)="numrandom($event)">

              </div>

              <div class="col-md-6 mb-2">
                <label for="emp-id" style="width:25%;font-weight:bold">الترقيم الوظيفي</label>
                <input class="" type="text" name="new-user-password" placeholder="الرقم الوظيفي" id="new-user-password2" formControlName="num" *ngIf="notrandom" (change)="changenum($event)" maxlength="4">
                <input class="" type="text" name="new-user-password" placeholder="الرقم الوظيفي" id="new-user-password2" formControlName="num" *ngIf="randomnumbertest" [(ngModel)]="randomnumber">
              </div>

              <div class="col-md-6 mb-2" *ngIf="directoreAdSelectedRole||directoretabSelectedRole||employeeSelectedRole">
                <label for="manage" style="width:25%;font-weight:bold"> الادارة </label>
                <select class="" name="idAdministration" formControlName="idAdministration" (change)="admintest($event)" style="width:50%">
                  <option [ngValue]="undefined" selected>-الإدارة-</option>
                  <option *ngFor="let item of AdministrationList" value="{{item.id}}">{{item.nom}}</option>
                </select>
              </div>

              <div class="col-md-6 mb-2" *ngIf="directoretabSelectedRole||employeeSelectedRole">
                <label for="job-section" style="width:25%;font-weight:bold">القسم </label>
                <select class="" name="idDepartement" formControlName="idDepartement" (change)="etabtest($event)" style="width:50%">
                  <option [ngValue]="undefined" selected>-القسم-</option>
                  <option *ngFor="let item of etabListAd" value="{{item.id}}">{{item.nom}}</option>
                </select>
              </div>

              <div class="col-md-6 mb-2">
                <label for="emp-id" style="width:25%;font-weight:bold"> الرئيس المباشر </label>
                <input type="radio"
                       name="conta" id="conta" (change)="automaticDir($event)">

              </div>

              <div class="col-md-6 mb-2" *ngIf="AutomaticDirector">

                <select class="" name="attribut1" formControlName="attribut1" (change)="findnum($event)" style="width:50%">
                  <option [ngValue]="undefined" selected>-الرئيس المباشر-</option>
                  <option *ngFor="let item of UsersList" value="{{item.id}}">{{item.fullName}}</option>
                </select>
              </div>

              <div class="col-md-6 mb-2" *ngIf="directoretabSelectedRole && !AutomaticDirector">
                <label for="job-place" style="width:25%;font-weight:bold">الرئيس المباشر</label>
                <input class="" type="text" name="full-name" placeholder="الرئيس المباشر" id="full-name" formControlName="directeur" [(ngModel)]="directoretab" required readonly (change)="findid($event)">
              </div>

              <div class="col-md-6 mb-2" *ngIf="directoreAdSelectedRole && !AutomaticDirector">
                <label for="job-place" style="width:25%;font-weight:bold">الرئيس المباشر</label>
                <input class="" type="text" name="full-name" placeholder="الرئيس المباشر" id="full-name" formControlName="directeur" [(ngModel)]="dir" required readonly>
              </div>

              <div class="col-md-6 mb-2" *ngIf="employeeSelectedRole && !AutomaticDirector">
                <label for="job-place" style="width:25%;font-weight:bold">الرئيس المباشر</label>
                <input class="" type="text" name="full-name" id="full-name" formControlName="directeur" [(ngModel)]="etabName" required readonly (change)="findid($event)">
              </div>

              <input class="" type="text" name="full-name" placeholder="المشرف المباشر" id="full-name" formControlName="attribut1" [(ngModel)]="usernameid" hidden>
              <input class="" type="text" name="full-name" placeholder="المشرف المباشر" id="full-name" formControlName="directeur" [(ngModel)]="dirname" hidden>
              <input class="" type="text" name="full-name" placeholder="المشرف المباشر" id="full-name" formControlName="nomAdministration" [(ngModel)]="nomAdministration" hidden>

              <input class="" type="text" name="full-name" placeholder="الرئيس المباشر" id="full-name" formControlName="nomDepartement" [(ngModel)]="nomDepartement" hidden>
              <input class="" type="text" name="full-name" placeholder="المشرف المباشر" id="full-name" formControlName="position" [(ngModel)]="position" hidden>
              <input class="" type="text" name="full-name" placeholder="المشرف المباشر" id="full-name" formControlName="attribut2" [(ngModel)]="activiation" hidden>
              <input class="" type="text" name="full-name" placeholder="المشرف المباشر" id="full-name" formControlName="photo" [(ngModel)]="path" hidden>


              <div class="col-md-6 mb-2">
                <label for="job-place" style="width:25%;font-weight:bold">مسمى الوظيفة </label>
                <input type="text" id="job-place" formControlName="emploi" />
              </div>

              <div class="col-md-6 mb-2">
                <label for="job-rank" style="width:25%;font-weight:bold">تاريخ التعيين </label>
                <input type="date" id="job-rank" formControlName="daterectrutement" />
              </div>

              <div class="col-md-6 mb-2">
                <label for="job-unit" style="width:25%;font-weight:bold">نوع الدوام </label>
                <select class="" formControlName="heureArrive" style="width:50%" (change)="typePresence($event)">
                  <option [ngValue]="undefined" selected>-نوع الدوام -</option>
                  <option value="كلي">كلي</option>
                  <option value="جزئي">جزئي</option>
                </select>
              </div>

              <div class="col-md-6 mb-2" *ngIf="typepresence ">
                <label for="job-type" style="width:25%;font-weight:bold">الفترة</label>
                <input type="text" id="job-type" formControlName="heureDepart" />
              </div>


              <div class="col-md-6 mb-2">
                <label for="job-type" style="width:25%;font-weight:bold">الرقم في مكتب العمل</label>
                <input type="text" id="job-type" formControlName="mention" />
              </div>
              <div class="col-md-6 mb-2">
                <label for="job-type" style="width:25%;font-weight:bold">رقم التأمينات</label>
                <input type="text" id="date" formControlName="classement" style="width:50%" />
              </div>

              <div class="col-md-6 mb-2">
                <label for="qualifi" style="width:25%;font-weight:bold">المؤهل</label>
                <select class="" formControlName="qualification" style="width:50%">
                  <option [ngValue]="undefined" selected>-المؤهل -</option>
                  <option value="أقل من الثانوية">أقل من الثانوية</option>
                  <option value="ثانوية عامة">ثانوية عامة</option>
                  <option value="دبلوم">دبلوم </option>
                  <option value="بكالوريوس">بكالوريوس </option>
                  <option value="ماجستير">ماجستير</option>
                  <option value="دكتوراه">دكتوراه</option>
                </select>
              </div>

              <div class="col-md-6 mb-2">
                <label for="spec" style="width:25%;font-weight:bold">التخصص</label>
                <input type="text" id="spec" formControlName="specialite" />
              </div>
            </form>




            <div class="col-md-12 text-left inner">
              <input type="submit"
                     style="width: 130px;"
                     class="btn btn-primary"
                     value="السابق &#8594;"
                     data-toggle="pill"
                     href="#personal-data"
                     role="tab"
                     aria-controls="pills-home" />
              &nbsp;&nbsp;&nbsp;
              <input type="submit"
                     style="width: 130px;"
                     class="btn btn-primary next"
                     value="التالي &#8592;"
                     data-toggle="pill"
                     href="#salary"
                     role="tab"
                     aria-controls="pills-contact" />


              <br /><br />
            </div>




          </div>

          <div class="tab-pane fade"
               id="account-data"
               role="tabpanel"
               aria-labelledby="account-tab">

            <form class="task-form form-row" [formGroup]="UserService.formModel" autocomplete="off" (submit)="onSubmit()">

              <div class="col-md-1">

              </div>
              <div class="col-md-11">
                <p></p>
              </div>
              <div class="col-md-6" >
                <label for="e" style="width:25%;font-weight:bold">البريد الالكتروني </label>
                <input type="text" id="e" formControlName="email" />

                <div class="alert alert-danger" *ngIf="UserService.formModel.get('email').touched && UserService.formModel.get('email').errors?.required">
                  <p *ngIf="UserService.formModel.get('email').touched && UserService.formModel.get('email').errors?.required">هذا الحقل إجباري</p>
                </div>
                <div class="alert alert-danger" *ngIf="UserService.formModel.get('email').touched && UserService.formModel.get('email').errors?.email">
                  <p *ngIf="UserService.formModel.get('email').touched && UserService.formModel.get('email').errors?.email">عنوان البريد الإلكتروني غير صالح<p>

                </div>
              </div>

              <div class="col-md-6">
                <label for="n" style="width:25%;font-weight:bold">اسم المستخدم </label>
                <input type="text" id="n" formControlName="UserName" [(ngModel)]="usernameg" />
                <div class="alert alert-danger" *ngIf="UserService.formModel.get('UserName').touched && UserService.formModel.get('UserName').errors?.minlength">
                  <p *ngIf="UserService.formModel.get('UserName').touched && UserService.formModel.get('UserName').errors?.minlength">الحد الأدنى 6 أحرف</p>

                </div>
                <div class="alert alert-danger" *ngIf="UserService.formModel.get('UserName').touched && UserService.formModel.get('UserName').errors?.required">
                  <p *ngIf="UserService.formModel.get('UserName').touched && UserService.formModel.get('UserName').errors?.required">هذا الحقل إجباري</p>

                </div>

              </div>



              <div class="col-md-6" formGroupName="Passwords">
                <label for="n" style="width:25%;font-weight:bold">كلمة المرور </label>
                <input type="password" id="n" formControlName="Password"  style="width:230px" [(ngModel)]="password" />
                <div class="alert alert-danger" *ngIf="UserService.formModel.get('Passwords.Password').touched && UserService.formModel.get('Passwords.Password').errors?.required">
                  <p *ngIf="UserService.formModel.get('Passwords.Password').touched && UserService.formModel.get('Passwords.Password').errors?.required">هذا الحقل إجباري</p>

                </div>
              </div>

              <div class="col-md-6" formGroupName="Passwords" >
                <label for="n" style="width:25%;font-weight:bold">تأكيد كلمة المرور </label>
                <input type="password" id="n" formControlName="ConfirmPassword"  style="width:230px;" [(ngModel)]="password" />
                <div class="alert alert-danger" *ngIf="UserService.formModel.get('Passwords.ConfirmPassword').touched && UserService.formModel.get('Passwords.ConfirmPassword').errors?.required">
                  <p *ngIf="UserService.formModel.get('Passwords.ConfirmPassword').touched && UserService.formModel.get('Passwords.ConfirmPassword').errors?.required">هذا الحقل إجباري</p>

                </div>

                <div class="alert alert-danger" *ngIf="UserService.formModel.get('Passwords.ConfirmPassword').touched && UserService.formModel.get('Passwords.ConfirmPassword').errors?.passwordMismatch">
                  <p *ngIf="UserService.formModel.get('Passwords.ConfirmPassword').touched && UserService.formModel.get('Passwords.ConfirmPassword').errors?.passwordMismatch">كلمة المرور غير متطابقة</p>

                </div>
              </div>

              <div class="col-md-12 text-left inner">

                <input type="submit"
                       style="width: 130px;"
                       class="btn btn-primary"
                       value="السابق &#8594;"
                       data-toggle="pill"
                       href="#salary"
                       role="tab"
                       aria-controls="pills-contact"/>
                &nbsp;&nbsp;&nbsp;
                <input type="submit"
                       style="width: 130px;"
                       class="btn btn-success"
                       value="حفظ" />
                
              </div>
            </form>


          </div>

        </div>
      </div>
    </div>

</div>

  </div>
<!-- Footer -->
<footer class="text-center">
 <p>كل الحقوق محفوظة لمؤسسة مواهب الخليج بالتنسيق و التعاون مع جمعية الدعوة بالطائف  <img src="assets/images/awal.png" style="width:40px;height:40px;"> </p>
</footer>
